{{> header}}
<main>
  <div class="container">
    <section>
      <button id="newPostButton" class="btn btn-primary mb-3">+ New Post</button>
      <form id="newPostForm" class="d-none">
        <div class="form-group">
          <label for="postTitle">Post Title</label>
          <input type="text" id="postTitle" class="form-control" required>
        </div>
        <div class="form-group">
          <label for="postContent">Post Content</label>
          <div id="editor" style="height: 110px;"></div>
        </div>
        <button type="submit" class="btn btn-primary">Create Post</button>
      </form>
    </section>

    <section>
      <h2>Your Posts</h2>
      {{#each posts}}
      <div class="card mb-3">
        <div class="card-body">
          <h3>{{title}}</h3>
          {{{content}}}
          <p class="text-muted">Posted by {{user.username}} on {{format_date createdAt}}</p>
          <a href="/edit/{{id}}" class="edit-link btn btn-link" data-id="{{id}}">Edit</a>
          <a href="#" class="delete-link btn btn-link text-danger" data-id="{{id}}">Delete</a>
        </div>
      </div>
      {{/each}}
    </section>
  </div>
</main>
